<!-- 게시글 목록 및 리뷰 목록 보기 -->
<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TMOVING</title>
    <style>
        body {
            margin: 0;
            font-family: Arial, sans-serif;
            background-color: #ccc;
        }
        header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            background-color: #222;
            padding: 10px 20px;
            color: #fff;
        }
        header nav a {
            color: #bfc4c3;
            margin: 0 15px;
            text-decoration: none;
        }
        header nav a:hover {
            text-decoration: underline;
        }
        .main-content {
            display: flex;
            padding: 20px;
        }
        .sidebar {
            width: 250px;
            background-color: #f2f2f2;
            padding: 20px;
            margin-right: 20px;
        }
        .sidebar form,
        .sidebar .genres,
        .sidebar .user-rating,
        .sidebar .movie-class {
            margin-bottom: 20px;
        }
        .sidebar h3 {
            margin-bottom: 10px;
        }
        .sidebar select,
        .sidebar input[type="text"],
        .sidebar button {
            width: 100%;
            padding: 5px;
            margin-bottom: 10px;
        }
        .search-results {
            flex: 1;
            background-color: #444;
            color: #fff;
            padding: 20px;
        }
        .search-results h2 {
            margin: 0;
        }
        .filters {
            display: flex;
            align-items: center;
            margin-bottom: 20px;
        }
        .filters span {
            margin-right: 10px;
        }
        .card-container {
            display: flex;
            overflow-x: auto;
            white-space: nowrap;
            padding: 20px;
            gap: 10px;
        }
        .card-container::-webkit-scrollbar {
            height: 8px;
        }
        .card-container::-webkit-scrollbar-thumb {
            background-color: #888;
            border-radius: 10px;
        }
        .card-container::-webkit-scrollbar-track {
            background-color: #333;
        }
        
        .card {
            background-color: #444;
            margin: 10;
            padding: 15px;
            width: 300px;
            flex: 0 0 auto;
            max-width: 250px; /* 최대 크기 제한 */
            box-shadow: 0 0 10px rgba(0,0,0,0.5);
            text-align: center;
        }
        @media (max-width: 768px) { /* 태블릿 크기 이하 */
            .card {
                width: 45%; /* 부모의 45% */
                max-width: 200px; /* 더 작은 크기로 제한 */
            }
        }

        @media (max-width: 480px) { /* 모바일 크기 이하 */
            .card {
                width: 90%; /* 부모의 90% */
                max-width: 180px; /* 더 작은 크기로 제한 */
            }
        }
        .card img {
            width: 100%; /* 카드 너비에 맞게 이미지 크기 조정 */
            height: 300px; /* 고정된 높이 설정 */
            object-fit: cover; /* 이미지 비율을 유지하며 잘라냄 */
            border-radius: 5px; /* 선택 사항: 이미지 모서리 둥글게 처리 */
        }
        .card h3 {
            margin: 15px 0 5px;
            font-size: 1rem;
            display: -webkit-box; /* Flexbox 유사 */
            line-clamp: 2;
            -webkit-line-clamp: 2; /* 최대 두 줄까지만 표시 */
            -webkit-box-orient: vertical; /* 세로 방향 정렬 */
            overflow: hidden; /* 넘치는 텍스트 숨김 */
            text-overflow: ellipsis; /* 말줄임표 추가 */
            text-align: center; /* 텍스트 중앙 정렬 */
            line-height: 1.2; /* 줄 간격 조정 */
        }
        .card p {
            margin: 5px 0 0;
        }
        .movie-item {
            display: flex;
            align-items: start;
            background-color: #333;
            padding: 10px;
            margin-bottom: 10px;
        }
        .movie-item img {
            width: 100px;
            height: auto;
            margin-right: 20px;
        }
        .movie-info {
            flex: 1;
        }
        .movie-info h3 {
            margin: 0;
            font-size: 1.2em;
        }
        .movie-info p {
            margin: 5px 0;
        }
        .movie-rating {
            display: flex;
            align-items: center;
        }
        .movie-rating span {
            margin-right: 10px;
            font-size: 1.1em;
        }
        .buttons {
            display: flex;
            align-items: center;
            margin-top: 5px;
        }
        .buttons button {
            margin-right: 10px;
            padding: 5px 10px;
            background-color: #616161;
            color: #fff;
            border: none;
            cursor: pointer;
        }
        footer {
            background-color: #333;
            color: #fff;
            padding: 10px 20px;
            display: flex;
            justify-content: space-between;
        }
        footer a {
            color: #bfc4c3;
            text-decoration: none;
        }
    </style>
</head>
<body>
    <header>
        <div>TMOVING</div>
        <nav>
            <!-- <a href="#">로그인</a>
            <a href="#">회원가입</a> #이 사항은 보류처리 되었습니다.--> 
            <!-- 사유 : 로그인을 한 상태에서 볼 수 있는 페이지 이기 때문에 -->
        </nav>
    </header>
    <div class="main-content">
        <aside class="sidebar">
            <form>
                <h3>영화 검색</h3>
                <input type="text" placeholder="Enter movie title here">
                <select>
                    <option>장르 선택</option>
                </select>
                <select>
                    <option>별점 선택</option>
                </select>
                <button>Search</button>
            </form>
            <div class="genres">
                <h3>장르</h3>
                <label><input type="checkbox"> 공포</label><br>
                <label><input type="checkbox"> 코미디</label><br>
                <label><input type="checkbox"> 액션</label><br>
                <label><input type="checkbox"> 공상 과학</label><br>
                <label><input type="checkbox"> 드라마</label>
            </div>
            <div class="user-rating">
                <h3>별점</h3>
                <label><input type="checkbox"> 5점</label><br>
                <label><input type="checkbox"> 4점</label><br>
                <label><input type="checkbox"> 3점</label><br>
                <label><input type="checkbox"> 2점</label><br>
                <label><input type="checkbox"> 1점</label>
            </div>
        </aside>
        <section class="search-results">
            <h2>자유 게시판 목록<br><br></h2>
            <div id="articles" class="card-container"></div>
            <div class="pagination">
                <button>1</button>
                <button>2</button>
                <button>3</button>
                <button>4</button>
                <button>5</button>
            </div>
        </section>
    </div>
    <script>
document.addEventListener("DOMContentLoaded", function () {
    fetch("http://127.0.0.1:8000/articles/") // API URL
        .then((response) => response.json())
        .then((data) => {
            const container = document.getElementById("articles");
            container.innerHTML = ""; // 기존 내용 초기화
            data.forEach((article) => {
                // 카드 형식으로 HTML 생성
                const cardHTML = `
                    <div class="card">
                        <img src="${article.image}" alt="${article.title}">
                        <h3>${article.title}</h3>
                        <p>⭐ ${article.rating}점</p>
                        <p>${new Date(article.created_at).toLocaleString()}</p>
                    </div>
                `;
                container.innerHTML += cardHTML; // 카드 추가
            });
        })
        .catch((error) => {
            console.error("Error fetching articles:", error);
        });
});
    </script>
    <footer>
        <div>TMOVING &copy; <span>teamsparta.co</span> | <span>Team Algorithm Artist</span></div>
    </footer>
</body>
</html>